===============================================
Neo4j Performance Index Application Instructions
===============================================

PROBLEM IDENTIFIED:
- Depth 2 queries are taking way too long (2-10 seconds)
- This is due to inefficient cartesian product queries
- Missing proper Neo4j indexes for performance

SOLUTION:
1. Apply comprehensive Neo4j indexes
2. Optimize the depth=2 query algorithm
3. Monitor performance improvements

INSTRUCTIONS:
1. Open Neo4j Browser at: http://localhost:7474
2. Login with your credentials
3. Copy and paste the contents of 'scripts/apply_indexes_direct.cypher'
4. Execute the script to create all indexes

EXPECTED PERFORMANCE IMPROVEMENTS:
- Depth 1 queries: 100-500ms → 10-50ms
- Depth 2 queries: 2-10s → 100-500ms  
- Node lookup: 50-200ms → 5-20ms
- Relationship traversal: 200-1000ms → 20-100ms

AFTER APPLYING INDEXES:
1. Restart the backend server
2. Test the frontend: http://localhost:3000/lexical/graph
3. Set Depth to 2 and search for 'nihon'
4. Should load much faster now!

TECHNICAL DETAILS:
- Created 20+ indexes for nodes, relationships, and composite queries
- Optimized depth=2 query to avoid cartesian product (O(n²) → O(n))
- Added fulltext indexes for advanced search capabilities
- Limited depth=2 expansion to 100 neighbors and 500 edges for performance

FILES CREATED:
- scripts/apply_indexes_direct.cypher (main index script)
- backend/migrations/create_performance_indexes.cypher (migration file)
- backend/app/api/v1/endpoints/lexical.py (optimized depth=2 query)
